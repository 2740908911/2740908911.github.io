{
    "version": "https://jsonfeed.org/version/1",
    "title": "FanqieのBlog • All posts by \"http\" tag",
    "description": "学习博客",
    "home_page_url": "http://example.com",
    "items": [
        {
            "id": "http://example.com/2021/07/08/(ctfwp)http&java/",
            "url": "http://example.com/2021/07/08/(ctfwp)http&java/",
            "title": "(ctfwp)http&java",
            "date_published": "2021-07-08T14:30:37.254Z",
            "content_html": "<p>最近遇到不少奇奇怪怪的题，方法很少见且唯一，直接总结一下。</p>\n<p><span id=\"more\"></span></p>\n<h1 id=\"1极客大挑战-2019http\"><a class=\"anchor\" href=\"#1极客大挑战-2019http\">#</a> 1.[极客大挑战 2019] Http</h1>\n<p>进去后是个介绍页面，由于没有信息，先查看源码</p>\n<p>发现相关信息，看名字可能与答案有关：</p>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly9pLmxvbGkubmV0LzIwMjEvMDcvMDkvNzVpU09GS2h1THZFcXp4LnBuZw==\">https://i.loli.net/2021/07/09/75iSOFKhuLvEqzx.png</span>&quot; alt=&quot;1.1.png&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;!--p1--&gt;</p>\n<p>点进去后界面如下：</p>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly9pLmxvbGkubmV0LzIwMjEvMDcvMDkvUWF5dVdyRDVQWHZaMjhvLnBuZw==\">https://i.loli.net/2021/07/09/QayuWrD5PXvZ28o.png</span>&quot; alt=&quot;1.2.png&quot; style=&quot;zoom: 33%;&quot; /&gt;&lt;!--p2--&gt;</p>\n<p>根据网页提示，应该在头请求里修改 referer，这里有很多方法（burp 抓包添加，火狐 F12 网络里拦截修改，hackbar 修改）</p>\n<p>我都已尝试过了，所以这里用最简单的 hackbar：</p>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly9pLmxvbGkubmV0LzIwMjEvMDcvMDkvSjcyeFZPOUkzcmh3UzVGLnBuZw==\">https://i.loli.net/2021/07/09/J72xVO9I3rhwS5F.png</span>&quot; alt=&quot;1.3.png&quot; style=&quot;zoom: 33%;&quot; /&gt;&lt;!--p3--&gt;</p>\n<p>界面如下，根据提示，要通过 Syclover 浏览，所以修改 user-agent：</p>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly9pLmxvbGkubmV0LzIwMjEvMDcvMDkvYmVOUTdwOEpMd21PQjJ6LnBuZw==\">https://i.loli.net/2021/07/09/beNQ7p8JLwmOB2z.png</span>&quot; alt=&quot;1.4.png&quot; style=&quot;zoom: 33%;&quot; /&gt;&lt;!--p4--&gt;</p>\n<p>界面如下，再根据提示，需要本地查看</p>\n<p>在简单的学习后，发现通过 X-Forwarded-For:127.0.0.1 可以伪造 ip 地址到本地</p>\n<p>（顺便学习了一下 html 请求头和响应头，相关文章附到后文）</p>\n<p>此时不能用 hackbar 添加，所以我选择用火狐工具直接修改：</p>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly9pLmxvbGkubmV0LzIwMjEvMDcvMDkvYUR0UGJ5V3M3RjFyWWpRLnBuZw==\">https://i.loli.net/2021/07/09/aDtPbyWs7F1rYjQ.png</span>&quot; alt=&quot;1.5.png&quot; style=&quot;zoom: 33%;&quot; /&gt;&lt;!--p5--&gt;</p>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly9pLmxvbGkubmV0LzIwMjEvMDcvMDkvQWJIMmtKcUVLMWVDeDRTLnBuZw==\">https://i.loli.net/2021/07/09/AbH2kJqEK1eCx4S.png</span>&quot; alt=&quot;1.6.png&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;!--p6--&gt;</p>\n<hr>\n<h1 id=\"2roarctf-2019easy-java\"><a class=\"anchor\" href=\"#2roarctf-2019easy-java\">#</a> 2.[RoarCTF 2019]Easy Java</h1>\n<p>这题真是没见过就不会做，进去先注入了几下，没有；扫目录，没有，点开 help，考虑是利用了 download 下载了啥东西：</p>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly9pLmxvbGkubmV0LzIwMjEvMDgvMDkvVEdLSVlPOVhSM1daRmkyLnBuZw==\">https://i.loli.net/2021/08/09/TGKIYO9XR3WZFi2.png</span>&quot; alt=&quot;7.png&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;!--p7--&gt;</p>\n<p>然后就没思路了，被迫看了眼 wp：</p>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly9pLmxvbGkubmV0LzIwMjEvMDgvMDkvNHdTbDJ2MzFaa1lUV2RuLnBuZw==\">https://i.loli.net/2021/08/09/4wSl2v31ZkYTWdn.png</span>&quot; alt=&quot;8.png&quot; style=&quot;zoom:50%;&quot; /&gt;&lt;!--p8--&gt;</p>\n<p>确实有漏洞，能带出源码，虽然我没听过，所以我查了一下相关资料：</p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3d5Xzk3L2FydGljbGUvZGV0YWlscy83ODE2NTA1MQ==\">ctf/web 源码泄露及利用办法</span></p>\n<p>nb，继续做题：</p>\n<p>这里 get 下载不下来东西，burp 抓包后用 post 下载 web-xml (通过 WEB-INF)：</p>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly9pLmxvbGkubmV0LzIwMjEvMDgvMDkvbU5KaWFiV0Q4UjRRUEt2LnBuZw==\">https://i.loli.net/2021/08/09/mNJiabWD8R4QPKv.png</span>&quot; alt=&quot;9.png&quot; style=&quot;zoom:33%;&quot; /&gt;&lt;!--p9--&gt;</p>\n<p>根据漏洞说明，找到相关的 class 文件，下载（就是我图中画出来的文件）：</p>\n<p>&lt;img src=&quot;<span class=\"exturl\" data-url=\"aHR0cHM6Ly9pLmxvbGkubmV0LzIwMjEvMDgvMDkvcW9lVzdHWEhjZjVSODFTLnBuZw==\">https://i.loli.net/2021/08/09/qoeW7GXHcf5R81S.png</span>&quot; alt=&quot;10.png&quot; style=&quot;zoom:33%;&quot; /&gt;&lt;!--p10--&gt;</p>\n<p>得到 base64 加密后的 flag，结束</p>\n<p>说实话这题挺简单，主要靠经验做，但是像我这种 cj，直接傻眼。。</p>\n<hr>\n<h1 id=\"附参考文章\"><a class=\"anchor\" href=\"#附参考文章\">#</a> 附：参考文章</h1>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cuY25ibG9ncy5jb20va2x2Y2hlbi9wLzEwMTY5MjQ1Lmh0bWw=\">HTML 请求头，响应头和 HTTP 状态码</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93d3cucnVub29iLmNvbS9odHRwL2h0dHAtbWV0aG9kcy5odG1s\">菜鸟教程 HTTP 请求方法</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly93aW5kYXJkLmNvbS9wcm9qZWN0LzIwMTYvMDUvMDgvRm9yZ2UtSVAtQWRkcmVzcw==\">通过修改 http 请求的 header 请求头来伪造 ip</span></p>\n<p><span class=\"exturl\" data-url=\"aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L3d5Xzk3L2FydGljbGUvZGV0YWlscy83ODE2NTA1MQ==\">ctf/web 源码泄露及利用办法</span></p>\n<hr>\n<p>遇到类似的的奇怪题再总结</p>\n<p>END</p>\n",
            "tags": [
                "http"
            ]
        }
    ]
}