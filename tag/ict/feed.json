{
    "version": "https://jsonfeed.org/version/1",
    "title": "imFanqie • All posts by \"ict\" tag",
    "description": "学习博客",
    "home_page_url": "http://git2740908911.gitee.io/fanqie.blog.io",
    "items": [
        {
            "id": "http://git2740908911.gitee.io/fanqie.blog.io/2022/02/28/ICT/Datacom%E7%AC%94%E8%AE%B0/ICT%E7%AC%94%E8%AE%B0-%E4%BB%A5%E5%A4%AA%E7%BD%91%E4%BA%A4%E6%8D%A2%E5%9F%BA%E7%A1%80/",
            "url": "http://git2740908911.gitee.io/fanqie.blog.io/2022/02/28/ICT/Datacom%E7%AC%94%E8%AE%B0/ICT%E7%AC%94%E8%AE%B0-%E4%BB%A5%E5%A4%AA%E7%BD%91%E4%BA%A4%E6%8D%A2%E5%9F%BA%E7%A1%80/",
            "title": "ICT笔记-以太网交换基础",
            "date_published": "2022-02-28T12:41:16.532Z",
            "content_html": "<p><span id=\"more\"></span></p>\n<h2 id=\"以太网协议介绍\"><a class=\"anchor\" href=\"#以太网协议介绍\">#</a> 以太网协议介绍</h2>\n<p><strong>以太网协议</strong>：以太网是当今现有局域网采用的最通用的通信协议标准，定义了局域网中采用的电缆类型和信号处理方法。</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/b91dbfbfa2014bd0b231fc0631022e49.png\" alt=\"b91dbfbfa2014bd0b231fc0631022e49.png\">&lt;!--p1--&gt;</p>\n<p><strong>冲突域</strong>：连接在同一共享介质上的所有节点的集合。</p>\n<p><strong>广播域</strong>：广播报文所能达到的整个访问范围成为二层广播域，简称广播域。</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/2e2fbae2c8a8eeb77647c1ff82eabe90.png\" alt=\"2e2fbae2c8a8eeb77647c1ff82eabe90.png\">&lt;!--p2--&gt;</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/9dcb4fd28f1f0f292991b2a49a6eef09.png\" alt=\"9dcb4fd28f1f0f292991b2a49a6eef09.png\">&lt;!--p3--&gt;</p>\n<p><strong>以太网卡</strong>：网络接口卡。也称为网卡，具有全球唯一性。</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/2042a5217547c92c696d7cdbc4b06867.png\" alt=\"2042a5217547c92c696d7cdbc4b06867.png\">&lt;!--p4--&gt;</p>\n<h2 id=\"以太网帧介绍\"><a class=\"anchor\" href=\"#以太网帧介绍\">#</a> 以太网帧介绍</h2>\n<ul>\n<li>以太网技术所使用的帧称为以太网帧，或简称以太帧。</li>\n<li>以太帧的格式有两个标准：Ethernet_II 格式和 IEEE 802.3 格式。</li>\n</ul>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/8d922703fa64ad1de45b3e66f944d129.png\" alt=\"8d922703fa64ad1de45b3e66f944d129.png\">&lt;!--p5--&gt;</p>\n<p><strong>MAC 地址</strong></p>\n<ul>\n<li>MAC 地址在网络中唯一标识一个网卡，具有全球唯一性。</li>\n</ul>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/369c83bc990abeba6a445222c9277f80.png\" alt=\"369c83bc990abeba6a445222c9277f80.png\">&lt;!--p6--&gt;</p>\n<ul>\n<li>一个 MAC 地址有 48bit，6Byte。格式如图：</li>\n</ul>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/e3461837ca71bd12f7174422cbce92e3.png\" alt=\"e3461837ca71bd12f7174422cbce92e3.png\">&lt;!--p7--&gt;</p>\n<ul>\n<li>MAC 地址构成及分类：前 3Byte 为厂商代码，由 IEEE 分配。</li>\n</ul>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/fe42557aefe68d74a0e2c38e335252bc.png\" alt=\"fe42557aefe68d74a0e2c38e335252bc.png\">&lt;!--p8--&gt;</p>\n<p><strong>单播以太帧：</strong></p>\n<p>单播帧，目的 MAC 地址为单播 MAC 地址的帧，即 <code>1 &gt;&gt; 1</code> 。</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/9c0561c5792036d0862cb482f2e8fe8a.png\" alt=\"9c0561c5792036d0862cb482f2e8fe8a.png\">&lt;!--p9--&gt;</p>\n<p><strong>广播以太帧：</strong></p>\n<p>广播帧，目的 MAC 地址为广播 MAC 地址的帧，即 <code>1 &gt;&gt; N</code> 。</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/db49c8d00b409ede1ce428253434d392.png\" alt=\"db49c8d00b409ede1ce428253434d392.png\">&lt;!--p10--&gt;</p>\n<p><strong>组播以太帧：</strong></p>\n<p>组播帧，目的 MAC 地址为组播 MAC 地址的帧，即 <code>1 &gt;&gt; x</code> 。</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/4be532fcdaf580a1ab00a52f52dbe931.png\" alt=\"4be532fcdaf580a1ab00a52f52dbe931.png\">&lt;!--p11--&gt;</p>\n<h2 id=\"交换机mac地址学习\"><a class=\"anchor\" href=\"#交换机mac地址学习\">#</a> 交换机 MAC 地址学习</h2>\n<p><strong>园区网典型架构：</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/f15ddb8d49c3b900857cba87a09fdb15.png\" alt=\"f15ddb8d49c3b900857cba87a09fdb15.png\">&lt;!--p12--&gt;</p>\n<p>其中最下层四个为以太网二层交换机。</p>\n<p>以太网二层交换机转发数据的端口都是以太网口，并且只能够针对数据的二层头部（以太网数据帧头）中的 MAC 地址进行寻址并转发数据。</p>\n<p>** 交换机工作原理：** 根据 MAC 地址表查询并转发。</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/11eba6b956a6cfd2fd38f1ce83fab940.png\" alt=\"11eba6b956a6cfd2fd38f1ce83fab940.png\">&lt;!--p13--&gt;</p>\n<p><strong>MAC 地址表</strong></p>\n<ul>\n<li>每台交换机中都有一个 MAC 地址表，存放了 MAC 地址与交换机端口编号之间的映射关系。</li>\n</ul>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/46beca99bd68475efe25f4d01488e12b.png\" alt=\"46beca99bd68475efe25f4d01488e12b.png\">&lt;!--p14--&gt;</p>\n<ol>\n<li>初始情况，交换机的 MAC 地址表是空的。</li>\n<li>当连接主机 1 的端口收到数据帧后查询 MAC 地址表，若没有则标位 “未知单播帧”。</li>\n<li>若没有查到则对该未知单播帧进行泛洪操作。同时交换机学习该 MAC 地址，创建表项。</li>\n<li>交换机其他端口连接的主机收到泛洪后会丢弃，主机 2 收到后处理数据帧，后通过交换机向主机回复。</li>\n<li>如果查到表项，则进行转发操作，同时会学习该数据帧的源 MAC 地址，与接收口关联，并创建表项。</li>\n</ol>\n<h2 id=\"交换机数据帧处理\"><a class=\"anchor\" href=\"#交换机数据帧处理\">#</a> 交换机数据帧处理</h2>\n<p>交换机对于从传输介质进入某一端口的帧的处理行为一共有三种：泛洪、转发、丢弃。</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/b61e6bbc57ad8f04d8bf968f652b70cf.png\" alt=\"b61e6bbc57ad8f04d8bf968f652b70cf.png\">&lt;!--p15--&gt;</p>\n<p><strong>泛洪</strong></p>\n<p>从一个端口将数据帧传递至所有端口。</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/8b1cefb5312e0663d0aeb9cc26217144.png\" alt=\"8b1cefb5312e0663d0aeb9cc26217144.png\">&lt;!--p16--&gt;</p>\n<p><strong>转发</strong></p>\n<p>从一个端口将数据帧传递至特定端口。</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/53832dd93ed48e22298cb551903968b8.png\" alt=\"53832dd93ed48e22298cb551903968b8.png\">&lt;!--p17--&gt;</p>\n<p><strong>丢弃</strong></p>\n<p>将收到的某一数据帧丢弃。</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/e49f7c454dcd7c870373a61339c381f4.png\" alt=\"e49f7c454dcd7c870373a61339c381f4.png\">&lt;!--p18--&gt;</p>\n<h2 id><a class=\"anchor\" href=\"#\">#</a> </h2>\n<h2 id=\"同网络短数据通信全过程\"><a class=\"anchor\" href=\"#同网络短数据通信全过程\">#</a> 同网络短数据通信全过程</h2>\n<p>案例：</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/0cbf006ee49b5cc3625f003153f97f4e.png\" alt=\"0cbf006ee49b5cc3625f003153f97f4e.png\">&lt;!--p19--&gt;</p>\n<ul>\n<li><strong>数据封装 &amp; 解封装</strong></li>\n</ul>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/9b5f63a3e539316c6f80a3e0980dbab9.png\" alt=\"9b5f63a3e539316c6f80a3e0980dbab9.png\">&lt;!--p20--&gt;</p>\n<ul>\n<li><strong>初始状态</strong></li>\n</ul>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/66a7a5ae9c80a9789358f6c569f7e811.png\" alt=\"66a7a5ae9c80a9789358f6c569f7e811.png\">&lt;!--p21--&gt;</p>\n<ul>\n<li><strong>泛洪数据帧</strong></li>\n</ul>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/ee88c756576c556580a09dff7c6bc447.png\" alt=\"ee88c756576c556580a09dff7c6bc447.png\">&lt;!--p22--&gt;</p>\n<ul>\n<li><strong>学习 MAC 地址</strong></li>\n</ul>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/b0db5cfad6ea03c9b922adce71d0cfd7.png\" alt=\"b0db5cfad6ea03c9b922adce71d0cfd7.png\">&lt;!--p23--&gt;</p>\n<ul>\n<li><strong>目标主机回复</strong></li>\n</ul>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/28/8765ccd9354d80fadfae9f06f54dbc20.png\" alt=\"8765ccd9354d80fadfae9f06f54dbc20.png\">&lt;!--p24--&gt;</p>\n",
            "tags": [
                "ICT"
            ]
        },
        {
            "id": "http://git2740908911.gitee.io/fanqie.blog.io/2022/02/11/ICT/Datacom%E7%AC%94%E8%AE%B0/ICT%E7%AC%94%E8%AE%B0-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%8F%8AIP%E7%BC%96%E5%9D%80/",
            "url": "http://git2740908911.gitee.io/fanqie.blog.io/2022/02/11/ICT/Datacom%E7%AC%94%E8%AE%B0/ICT%E7%AC%94%E8%AE%B0-%E7%BD%91%E7%BB%9C%E5%B1%82%E5%8D%8F%E8%AE%AE%E5%8F%8AIP%E7%BC%96%E5%9D%80/",
            "title": "ICT笔记-网络层协议及IP编址",
            "date_published": "2022-02-11T09:58:17.262Z",
            "content_html": "<ul>\n<li>描述网络层的主要协议</li>\n<li>描述 IPv4 地址的概念、分类及特殊 IP 地址</li>\n<li>计算 IP 网络以及 IP 子网</li>\n<li>掌握 IP 网络地址规划方式</li>\n</ul>\n<p><span id=\"more\"></span></p>\n<h2 id=\"网络层协议\"><a class=\"anchor\" href=\"#网络层协议\">#</a> 网络层协议</h2>\n<ul>\n<li>\n<p>网络层经常被称为 IP 层，但其中并不只有 IP 协议，还包括 ICMP、IPX 等协议。</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/289557be8e1ebc61728f7f15022272d0.png\" alt=\"289557be8e1ebc61728f7f15022272d0.png\">&lt;!--p1--&gt;</p>\n</li>\n</ul>\n<p>IP 协议有版本之分，分别是 IPv4 和 IPv6。目前，Internet 上的 IP 报文主要都是 IPv4 报文，但是逐步在向 IPv6 过渡。</p>\n<blockquote>\n<p>IPv4（Internet Protocol Version 4）协议族是 TCP/IP 协议族中最为核心的协议族。它工作在 TCP/IP 协议栈的网络层，该层与 OSI 参考模型的网络层相对应。</p>\n</blockquote>\n<blockquote>\n<p>IPv6（Internet Protocol Version 6）是网络层协议的第二代标准协议，也被称为 IPng（IP Next Generation）。它是 Internet 工程任务组 IETF（Internet Engineering Task Force）设计的一套规范，是 IPv4（Internet Protocol Version 4）的升级版本。</p>\n</blockquote>\n<p><strong>数据封装过程</strong></p>\n<ul>\n<li>上层数据在传输层添加 TCP 报头后得到的 PDU 被称为 Segment（数据段）</li>\n<li>数据段被传递给网络层，网络层添加 IP 报头得到的 PDU 被称为 Packet（数据包）</li>\n<li>数据包被传递到数据链路层，封装数据链路层报头和尾部得到的 PDU 被称为 Frame（数据帧）</li>\n<li>最后，帧被转换为比特，通过网络介质传输。</li>\n</ul>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/f521d1c7e61a4a41c55113c2c5f50f3e.png\" alt=\"f521d1c7e61a4a41c55113c2c5f50f3e.png\">&lt;!--p2--&gt;</p>\n<p><strong>IPv4 报文格式</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/daa4d4f6fb4ded7a7eaeef0840dce472.png\" alt=\"daa4d4f6fb4ded7a7eaeef0840dce472.png\">&lt;!--p3--&gt;</p>\n<ul>\n<li>IP Packet（IP 数据包），其包头主要内容如下：</li>\n</ul>\n<pre><code>▫ Version：4 bit，4：表示为IPv4；6：表示为IPv6。\n▫ Header Length：4 bit，首部长度，如果不带Option字段，则为20，最长为60。\n▫ Type of Service：8 bit，服务类型。只有在有QoS差分服务要求时，这个字段才起作用。\n▫ Total Length：16 bit，总长度，整个IP数据包的长度。\n▫ Identification：16 bit，标识，分片重组时会用到该字段。\n▫ Flags：3 bit，标志位。\n▫ Fragment Offset：12 bit，片偏移，分片重组时会用到该字段。\n▫ Time to Live：8 bit，生存时间。\n▫ Protocol：8 bit，协议：下一层协议。指出此数据包携带的数据使用何种协议，以便目的主机的IP层将数据部分上交给哪个进程处理。\n\t▪ 常见值：\n\t− 1: ICMP, Internet Control Message；\n\t− 2: IGMP, Internet Group Management；\n\t− 6: TCP , Transmission Control Protocol；\n\t− 17: UDP, User Datagram Protocol。\n▫ Header Checksum：16 bit，首部检验和。\n▫ Source IP Address：32 bit，源IP地址。\n▫ Destination IP Address：32 bit，目的IP地址。\n▫ Options：可变，选项字段。\n▫ Padding：可变，填充字段，全填0。\n</code></pre>\n<p><strong>数据包分片</strong></p>\n<ul>\n<li>\n<p>将报文分割成多个片段的过程叫做分片。</p>\n</li>\n<li>\n<p>如果报文长度超过数据链路所支持的最大长度，则需要分割成若干个较小的片段才能传输。</p>\n</li>\n</ul>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/804be2d889f00b8a2337e1ff10a112fb.png\" alt=\"804be2d889f00b8a2337e1ff10a112fb.png\">&lt;!--P4--&gt;</p>\n<pre><code>• Identification：16 bit，发送主机赋予的标识，分片重组时会用到该字段。\n• Flags：3 bit，标志位。\n\t▫ 保留段位：0，保留。\n\t▫ 不分段位：1，表示“不能分片”；0，表示“能分片”。\n\t▫ 更多段位：1，表示“后面还有分片”；0，表示“最后一个数据片”。\n• Fragment Offset：12 bit，片偏移，分片重组时会用到该字段。指出较长的分组在分片后，该片在原分组中的相对位置，与更多段位组合，帮助接收方组合分段的报文。\n</code></pre>\n<p><strong>生存时间 TTL（Time To Live）</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/9575059a278adfd6922e0dd166c4fadc.png\" alt=\"9575059a278adfd6922e0dd166c4fadc.png\">&lt;!--p5 --&gt;</p>\n<ul>\n<li>作用：为避免环路导致的网络拥塞，IP 报文头中包含一个生存时间 TTL（Time To Live）字段。报文每经过一台三层设备，TTL 值减 1。初始 TTL 值由源端设备设置。当报文中的 TTL 降为 0 时，报文会被丢弃。同时，丢弃报文的设备会根据报文头中的源 IP 地址向源端 发送 ICMP 错误消息。</li>\n<li>TTL 最长 8bit，即取值范围 0--255</li>\n</ul>\n<p><strong>协议号（Protocol）</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/ec1968a8a76866a2fa234a55b2251df2.png\" alt=\"ec1968a8a76866a2fa234a55b2251df2.png\">&lt;!--p6--&gt;</p>\n<p>目的端的网络层在接收并处理报文以后，需要决定下一步对报文如何处理。IP 报文头中的协议字段标识了将会继续处理报文的协议，如图所示。</p>\n<h2 id=\"ipv4地址\"><a class=\"anchor\" href=\"#ipv4地址\">#</a> IPv4 地址</h2>\n<ul>\n<li>\n<p>IP 地址在网络中用于标识一个节点（或网络设备的接口）。</p>\n</li>\n<li>\n<p>IP 地址用于 IP 报文在网络中的寻址。</p>\n</li>\n</ul>\n<p><em>注：需要使用 IP 地址的接口，通常是路由器和计算机的接口。</em></p>\n<p><strong>IP 地址表示</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/3da4ecab3a65ebbd12beb9f2d6818b33.png\" alt=\"3da4ecab3a65ebbd12beb9f2d6818b33.png\">&lt;!--p7--&gt;</p>\n<pre><code>• IP地址表示\n\t▫ IP地址是长度是32 bit，由4个字节组成。为了阅读和书写方便，IP地址通常采用点分十进制数来表示。\n\t\n• 点分十进制表示法\n\t▫ IP地址表现形式能够帮助我们更好的使用和配置网络，但通信设备在对IP地址进行计算时使用的是二进制的操作方式，因此掌握十进制、二进制的转换运算非常有必要。\n\t\n• IPv4地址范围\n\t▫ 00000000.00000000.00000000.00000000~11111111.11111111.11111111.11111111，即0.0.0.0~255.255.255.255。\n</code></pre>\n<p><strong>IP 地址构成</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/941ab2172700677bac66aabdbc0acd3b.png\" alt=\"941ab2172700677bac66aabdbc0acd3b.png\">&lt;!--p8--&gt;</p>\n<p>IPv4 地址由如下两部分组成：</p>\n<ul>\n<li>\n<p>网络部分 (网络号)：用来标识一个网络。</p>\n<blockquote>\n<p>IP 地址不能反映任何有关主机位置的地理信息，只能通过网络号码字段判断出 主机属于哪个网络。</p>\n<p>对于网络号相同的设备，无论实际所处的物理位置如何，它们都是处在同一个 网络中。</p>\n</blockquote>\n</li>\n<li>\n<p>主机部分 (主机号)：用来区分一个网络内的不同主机。</p>\n</li>\n</ul>\n<p>网络掩码 (Netmask)，又称子网掩码 (Subnet Mask)：</p>\n<ul>\n<li>网络掩码为 32 bit，与 IP 地址的位数一样，通常也以点分十进制数来表示。</li>\n<li>网络掩码不是一个 IP 地址，在二进制的表示上是一堆连续的 1、后面接一堆连续的 0。</li>\n<li>通常将网络掩码中 1 的个数称为这个网络掩码的长度。如：掩码 0.0.0.0 的长度是 0，掩 码 252.0.0.0 的长度是 6。</li>\n<li>网络掩码一般与 IP 地址结合使用，其中值为 1 的比特对应 IP 地址中的网络位；值为 0 的 比特对应 IP 地址中的主机位，以此来辅助我们识别一个 IP 地址中的网络位与主机位。 即网络掩码中 1 的个数就是 IP 地址的网络号的位数，0 的个数就是 IP 地址的主机号的位 数。</li>\n</ul>\n<p><strong>IP 地址寻址</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/7c3889f16d724fe14515ef8f60a3cf3e.png\" alt=\"7c3889f16d724fe14515ef8f60a3cf3e.png\">&lt;!--p9--&gt;</p>\n<p>IP 寻址：</p>\n<blockquote>\n<p>网络号用于表示主机所在的网络，类似于 “XX 省 XX 市 XX 区 XX 小区” 的作用。</p>\n<p>主机号用于表示网络号所定义的网络范围内某个特定的主机接口，类似于门牌号 “XX 栋 XX 号” 的作用。</p>\n</blockquote>\n<p>网络寻址：</p>\n<blockquote>\n<p>二层网络寻址：可直接通过 IP 地址，找到对应的主机接口。</p>\n<p>三层网络寻址：利用网关转发来自不同网段之间的数据包。</p>\n</blockquote>\n<p><strong>IP 地址分类</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/65ca4707825e352616214061d5e115d7.png\" alt=\"65ca4707825e352616214061d5e115d7.png\">&lt;!--p10--&gt;</p>\n<p>为了方便 IP 地址的管理及组网，IP 地址分成五类：</p>\n<ul>\n<li>A、B、C、D、E 类的类别字段分别是二进制数 0、10、110、1110、1111，通过网络 号码字段的前几个比特就可以判断 IP 地址属于哪一类，这是区分各类地址最简单的方 法。</li>\n<li>A、B、C 三类地址是单播 IP 地址 (除一些特殊地址外)，只有这三类地址才能分配给主 机接口使用。</li>\n<li>D 类地址属于组播 IP 地址。</li>\n<li>E 类地址专门用于特殊的实验目的。</li>\n</ul>\n<p>A、B、C 类地址比较：</p>\n<ul>\n<li>使用 A 类地址的网络称为 A 类网络；使用 B 类地址的网络称为 B 类网络；使用 C 类地址的 网络称为 C 类网络。</li>\n<li>A 类网络的网络号为 8 bit，个数很少，但所允许的主机接口的个数很多；首位恒定为 0， 地址空间为：0.0.0.0~127.255.255.255。</li>\n<li>B 类网络的网络号为 16 bit，介于 A 类和 C 类网络之间；首两位恒定为 10，地址空间为： 128.0.0.0~191.255.255.255。</li>\n<li>C 类网络的网络号为 24 bit，个数很多，但所允许的主机接口的个数就很少；首三位恒 定为 110，地址空间为：192.0.0.0~223.255.255.255。</li>\n</ul>\n<p>注：</p>\n<blockquote>\n<p>主机 (Host)，通常指路由器和计算机的统称。并且常把主机的某个接口的 IP 地址简称 为主机 IP 地址。</p>\n<p>组播地址：组播能实现一对多传递消息。</p>\n</blockquote>\n<p><strong>IP 地址类型</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/f602f6dedd26839d2c5cd081495298bd.png\" alt=\"f602f6dedd26839d2c5cd081495298bd.png\">&lt;!--p11--&gt;</p>\n<ul>\n<li>网络地址：主机号全为 0，不能分配给具体的主机接口使用</li>\n<li>广播地址：主机号全为 1，不能分配给具体的主机接口使用</li>\n<li>可用地址：又称主机地址。</li>\n<li>一个网段可用地址数量计算：若主机位为 n，则 IP 地址数为 2ⁿ，可用 IP 地址数为：2ⁿ-2 （减去网络地址 和广播地址）。</li>\n</ul>\n<p><strong>IP 地址计算</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/d85854c9d6cad3a7f71943f18c8bee2e.png\" alt=\"d85854c9d6cad3a7f71943f18c8bee2e.png\">&lt;!--p12--&gt;</p>\n<pre><code>• 网络地址：将IP地址的主机位全设为0，所得结果是该IP地址所在网络的网络地址。\n• 广播地址：将IP地址的主机位全设为1，所得结果是该IP地址所在网络的广播地址。\n• IP地址数：2ⁿ，n为主机位位数。\n• 可用IP地址数：2ⁿ-2，n为主机位位数。\n</code></pre>\n<p><strong>私网 IP 地址</strong></p>\n<p>为了解决 IP 地址短缺的问题，提出了私有地址的概念。私有地址是指内部网络或主机地址， 这些地址只能用于某个内部网络，不能用于公共网络。</p>\n<blockquote>\n<p>公网 IP 地址：连接到 Internet 的网络设备必须具有由 ICANN 分配的公网 IP 地址。</p>\n<p>私网 IP 地址：私网 IP 地址的使用使得网络可以得到更为自由地扩展，因为同一个私网 IP 地址是可以在不同的私有网络中重复使用的。</p>\n</blockquote>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/ffe42a642d807c800d1132610c538309.png\" alt=\"ffe42a642d807c800d1132610c538309.png\">&lt;!--p13--&gt;</p>\n<p>私有网络连接到 Internet：私有网络由于使用了私网 IP 地址，是不允许连接到 Internet 的。 后来在实际需求的驱动下，许多私有网络也希望能够连接到 Internet 上，从而实现私网与 Internet 之间的通信，以及通过 Internet 实现私网与私网之间的通信。私网与 Internet 的互联， 必须使用网络地址转换 (NAT) 技术实现。</p>\n<p><strong>特殊 IP 地址</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/cec81c4fa0c67104b3afd19afeacd8cd.png\" alt=\"cec81c4fa0c67104b3afd19afeacd8cd.png\">&lt;!--p14--&gt;</p>\n<ul>\n<li>\n<p>255.255.255</p>\n<ul>\n<li>\n<p>这个地址称为有限广播地址，它可以作为一个 IP 报文的目的 IP 地址使用。</p>\n</li>\n<li>\n<p>路由器接收到目的 IP 地址为有限广播地址的 IP 报文后，会停止对该 IP 报文的转发。</p>\n</li>\n</ul>\n</li>\n<li>\n<p>0.0.0.0</p>\n<ul>\n<li>\n<p>如果把这个地址作为网络地址，它的意思就是 “任何网络” 的网络地址；如果把这个 地址作为主机接口地址，它的意思就是 “这个网络上主机接口” 的 IP 地址。</p>\n</li>\n<li>\n<p>例如：当一个主机接口在启动过程中尚未获得自己的 IP 地址时，就可以向网络发送目 的 IP 地址为有限广播地址、源 IP 地址为 0.0.0.0 的 DHCP 请求报文，希望 DHCP 服务器在 收到自己的请求后，能够给自己分配一个可用的 IP 地址。</p>\n</li>\n</ul>\n</li>\n<li>\n<p>127.0.0.0/8</p>\n<ul>\n<li>\n<p>这个地址为环回地址，它可以作为一个 IP 报文的目的 IP 地址使用。其作用是测试设备 自身的软件系统。</p>\n</li>\n<li>\n<p>一个设备产生的、目的 IP 地址为环回地址的 IP 报文是不可能离开这个设备本身的。</p>\n</li>\n</ul>\n</li>\n<li>\n<p>169.254.0.0/16</p>\n<ul>\n<li>如果一个网络设备获取 IP 地址的方式被设置成了自动获取方式，但是该设备在网络上 又没有找到可用的 DHCP 服务器，那么该设备就会使用 169.254.0.0/16 网段的某个地址来进行临时通信。</li>\n</ul>\n</li>\n</ul>\n<p><strong>IPv4  vs  IPv6</strong></p>\n<p>第二种解决 IP 地址短缺的办法，如图所示：</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/6cc05b5b495ed01f4f491a5e7b3f3fdf.png\" alt=\"6cc05b5b495ed01f4f491a5e7b3f3fdf.png\">&lt;!--p15--&gt;</p>\n<h2 id=\"子网划分\"><a class=\"anchor\" href=\"#子网划分\">#</a> 子网划分</h2>\n<p>“有类编址” 的地址划分过于死板，划分的颗粒度太大，会有大量的主机号不能被充分利 用，从而造成了大量的 IP 地址资源浪费。</p>\n<p>因此可以利用子网划分来减少地址浪费，即 VLSM (Variable Length Subnet Mask)，可变长子网掩码。将一个大的有类网络，划分成若干个小的子网，使得 IP 地址的使用更为科学。</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/db8b9646f353a0e0a4bd15a62f755fcc.png\" alt=\"db8b9646f353a0e0a4bd15a62f755fcc.png\">&lt;!--p16--&gt;</p>\n<p><strong>step1. 原网段分析</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/6495c91154faf28e1505803e6737d0e2.png\" alt=\"6495c91154faf28e1505803e6737d0e2.png\">&lt;!--p17--&gt;</p>\n<p>假设有一个 C 类网段地址：192.168.10.0；默认情况下，网络掩码为 24 位，包括 24 位网络位，8 位主机位。所以通过计算可知，这样的网络中，有 256 个 IP 地址。</p>\n<p><strong>step2. 向主机借位</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/adf939bd363c7733da3a7b72497f9497.png\" alt=\"adf939bd363c7733da3a7b72497f9497.png\">&lt;!--p18--&gt;</p>\n<p>将原有的 24 位网络位向主机位去 “借” 1 位，这样网络位就扩充到了 25 位，相对的主机位就减少到了 7 位，而借过来的这 1 位就是子网位，此时网络掩码就变成了 25 位，即 255.255.255.128，或 / 25。</p>\n<p>子网位：可取值 0 或取值 1，则得到了两个新的子网。通过计算可知，每个网络中，有 128 个 IP 地址。</p>\n<p>**step3. 计算子网的网络地址和广播地址 **</p>\n<ul>\n<li>\n<p>每个子网主机位全为 0 时，可以计算出子网网络地址。</p>\n</li>\n<li>\n<p>每个子网主机位全为 1 时。可以计算出子网广播地址。</p>\n</li>\n</ul>\n<p>如图：</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/c760a7fa917d82d28912c35c9672e101.png\" alt=\"c760a7fa917d82d28912c35c9672e101.png\">&lt;!--p19--&gt;</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/a19a452a4ba8912a220163aa7b18ea48.png\" alt=\"a19a452a4ba8912a220163aa7b18ea48.png\">&lt;!--p20--&gt;</p>\n<h2 id=\"icmp协议\"><a class=\"anchor\" href=\"#icmp协议\">#</a> ICMP 协议</h2>\n<p>为了更有效地转发 IP 数据报文和提高数据报文交互成功的机会，在网络层使用 ICMP 协议。 ICMP 允许主机或设备报告差错情况和提供有关异常情况的报告。</p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/8c50b02bf8ea848453bd6774240d3030.png\" alt=\"8c50b02bf8ea848453bd6774240d3030.png\">&lt;!--p21--&gt;</p>\n<p>ICMP 消息封装在 IP 报文中，IP 报文头部 Protocol 值为 1 时表示 ICMP 协议。</p>\n<p><strong>ICMP 重定向：</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/b251552163caf3bec3a737891404805e.png\" alt=\"b251552163caf3bec3a737891404805e.png\">&lt;!--p22--&gt;</p>\n<ul>\n<li>ICMP 重定向过程：\n<ol>\n<li>主机 A 希望发送报文到服务器 A，于是根据配置的默认网关地址向网关 RTB 发送报文。</li>\n<li>网关 RTB 收到报文后，检查报文信息，发现报文应该转发到与源主机在同一网段的另一个网关设备 RTA，此转发路径是更优的路径，所以 RTB 会向主机发送一个 Redirect 消息，通知主机直接向另一个网关 RTA 发送该报文。</li>\n<li>主机收到 Redirect 消息后，会向 RTA 发送报文，然后 RTA 会将该报文再转发给服务器 A。</li>\n</ol>\n</li>\n</ul>\n<p><strong>ICMP 差错检测：</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/e94f37f1d452331472737f00f16e2423.png\" alt=\"e94f37f1d452331472737f00f16e2423.png\">&lt;!--p23--&gt;</p>\n<ul>\n<li>ICMP 的一个典型应用是 Ping。</li>\n</ul>\n<p>Ping 是检测网络连通性的常用工具，同时也能够收集其他相 关信息。用户可以在 Ping 命令中指定不同参数，如 ICMP 报文长度、发送的 ICMP 报文个数、 等待回复响应的超时时间等，设备根据配置的参数来构造并发送 ICMP 报文，进行 Ping 测试。</p>\n<p><strong>ICMP 错误报告：</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/b336e6434280e7823a1b8b3735213f2f.png\" alt=\"b336e6434280e7823a1b8b3735213f2f.png\">&lt;!--p24--&gt;</p>\n<ul>\n<li>ICMP 定义了各种错误消息，用于诊断网络连接性问题；根据这些错误消息，源设备可以判 断出数据传输失败的原因。\n<ul>\n<li>如果网络中发生了环路，导致报文在网络中循环，且最终 TTL 超时，这种情况下网络 设备会发送 TTL 超时消息给发送端设备。</li>\n<li>如果目的地不可达，则中间的网络设备会发送目的不可达消息给发送端设备。目的不 可达的情况有多种，如果是网络设备无法找到目的网络，则发送目的网络不可达消息； 如果网络设备无法找到目的网络中的目的主机，则发送目的主机不可达消息。</li>\n</ul>\n</li>\n<li>ICMP 的另一个典型应用是 Tracert。Tracert 基于报文头中的 TTL 值来逐跳跟踪报文的转发路 径。为了跟踪到达某特定目的地址的路径，源端首先将报文的 TTL 值设置为 1。该报文到达第一个节点后，TTL 超时，于是该节点向源端发送 TTL 超时消息，消息中携带时间戳。然后 源端将报文的 TTL 值设置为 2，报文到达第二个节点后超时，该节点同样返回 TTL 超时消息，以此类推，直到报文到达目的地。这样，源端根据返回的报文中的信息可以跟踪到报文经过的每一个节点，并根据时间戳信息计算往返时间。</li>\n</ul>\n<h2 id=\"ipv4地址配置及基本应用\"><a class=\"anchor\" href=\"#ipv4地址配置及基本应用\">#</a> IPv4 地址配置及基本应用</h2>\n<p><strong>IP 地址的基础配置命令</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/f758d9e08e9f2cc76a617717864a65f4.png\" alt=\"f758d9e08e9f2cc76a617717864a65f4.png\">&lt;!--p25--&gt;</p>\n<ul>\n<li>\n<p>物理接口：物理接口是指网络设备上实际存在的接口，分为负责承担业务传输的业务接口和负责管理设备的管理接口，例如 GE 业务接口和 MEth 管理接口。</p>\n</li>\n<li>\n<p>逻辑接口：逻辑接口是指能够实现数据交换功能但物理上不存在、需要通过配置建立的接口，需要承担业务传输，例如 VLANIF 接口、Loopback 接口。</p>\n</li>\n</ul>\n<p><strong>网络 IP 地址规划</strong></p>\n<p><img data-src=\"http://img.imfanqie.xyz/images/2022/02/13/d14237d8101a961f781fb35d13893905.png\" alt=\"d14237d8101a961f781fb35d13893905.png\">&lt;!--p26--&gt;</p>\n<p>规划原则：</p>\n<blockquote>\n<p>唯一性：一个 IP 网络中不能有两个主机采用相同的 IP 地址。</p>\n<p>连续性：连续地址在层次结构网络中易于进行路由汇总，大大缩减路由表，提高路由 计算的效率、加速路由收敛。</p>\n<p>扩展性：地址分配在每一层次上都要有合理的预留，在网络规模扩展时能保证路由汇 总所需的连续性。避免网络扩展造成的地址、路由重新规划。</p>\n<p>结构化、业务相关性：地址规划与网络拓扑结构和网络承载业务结合起来，便于路由 规划和 QoS 部署。好的 IP 地址规划使得每个地址都具有实际含义，看到一个地址就可 以大致判断出该地址所属的设备和对应的业务。</p>\n</blockquote>\n",
            "tags": [
                "ICT"
            ]
        },
        {
            "id": "http://git2740908911.gitee.io/fanqie.blog.io/2022/01/29/ICT/Datacom%E7%AC%94%E8%AE%B0/ICT%E7%AC%94%E8%AE%B0-%E7%BD%91%E7%BB%9C%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B/",
            "url": "http://git2740908911.gitee.io/fanqie.blog.io/2022/01/29/ICT/Datacom%E7%AC%94%E8%AE%B0/ICT%E7%AC%94%E8%AE%B0-%E7%BD%91%E7%BB%9C%E5%8F%82%E8%80%83%E6%A8%A1%E5%9E%8B/",
            "title": "ICT笔记-网络参考模型",
            "date_published": "2022-01-29T08:33:18.514Z",
            "content_html": "<ul>\n<li>理解数据的定义及传输过程</li>\n<li>理解网络参考模型的概念和优势</li>\n<li>了解常见的标准协议</li>\n<li>唱我数据的封装与解封装过程</li>\n</ul>\n<p><span id=\"more\"></span></p>\n<h2 id=\"应用和数据\"><a class=\"anchor\" href=\"#应用和数据\">#</a> 应用和数据</h2>\n<p><strong>应用：应用是为了满足人们的各种需求，比如访问网页，在线游戏、视频等。</strong></p>\n<p><strong>数据：伴随着应用会有信息的产生，数据时各种信息的载体。</strong></p>\n<p>计算机只能识别 0 和 1 组成的电子数据。它不具备读取各种信息的能力，所以信息需要通过一定的规则翻译成数据。</p>\n<h2 id=\"osi模型\"><a class=\"anchor\" href=\"#osi模型\">#</a> OSI 模型</h2>\n<pre><code>OSI参考模型又被称为七层模型，由下至上依次为：\n    ▫ 物理层：在设备之间传输比特流，规定了电平、速度和电缆针脚等物理特性。\n    ▫ 数据链路层：将比特组合成字节，再将字节组合成帧，使用链路层地址（以太网使用MAC地址）来访问介质，并进行差错检测。\n    ▫ 网络层：定义逻辑地址，供路由器确定路径，负责将数据从源网络传输到目的网络。\n    ▫ 传输层：提供面向连接或非面向连接的数据传递以及进行重传前的差错检测。\n    ▫ 会话层：负责建立、管理和终止表示层实体之间的通信会话。该层的通信由不同设备中的应用程序之间的服务请求和响应组成。\n    ▫ 表示层：提供各种用于应用层数据的编码和转换功能，确保一个系统的应用层发送的数据能被另一个系统的应用层识别。\n    ▫ 应用层：OSI参考模型中最靠近用户的一层，为应用程序提供网络服务。\n</code></pre>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/VEGay8sCnkcUHuv.png\" alt=\"1.png\">&lt;!--p1--&gt;</p>\n<h2 id=\"tcpip模型\"><a class=\"anchor\" href=\"#tcpip模型\">#</a> TCP/IP 模型</h2>\n<p>TCP/IP 模型在结构上与 OSI 模型类似，采用分层架构，同时层与层之间联系紧密。</p>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/8csJLa4pxqgdK3r.png\" alt=\"2.png\">&lt;!--p2--&gt;</p>\n<blockquote>\n<p>TCP/IP 标准参考模型将 OSI 中的数据链路层和物理层合并为网络接入层，这种划分方式其实是有悖于现实协议制定情况的，故提出并广泛使用了融合了 TCP/IP 标准模型和 OSI 模型的<strong> TCP/IP 对等模型</strong></p>\n</blockquote>\n<p>&lt;u&gt;<strong>TCP/IP 常见协议</strong>：&lt;/u&gt;</p>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/T4QcFtPx7gBhsfN.png\" alt=\"3.png\">&lt;!--p3--&gt;</p>\n<h2 id=\"应用层协议\"><a class=\"anchor\" href=\"#应用层协议\">#</a> 应用层协议</h2>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/hqM3zKmEoNeZgkG.png\" alt=\"4.png\">&lt;!--p4--&gt;</p>\n<p>​\t\t ▫ <strong>HTTP</strong>（Hypertext Transfer Protocol，超文本传输协议）：用来访问在网页服务器上 的各种页面。</p>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/Yxt3NXnsP9dERiG.png\" alt=\"5.png\">&lt;!--p5--&gt;</p>\n<p>​\t\t ▫ <strong>FTP</strong>（File Transfer Protocol，文件传输协议）：为文件传输提供了途径，它允许数 据从一台主机传送到另一台主机上。</p>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/vst5xBpE9DNwVcT.png\" alt=\"6.png\">&lt;!--p6--&gt;</p>\n<p>​\t\t ▫ <strong>DNS</strong>（Domain Name Service，域名称解析服务）：用于实现从主机域名到 IP 地址之 间的转换。</p>\n<h2 id=\"传输层协议\"><a class=\"anchor\" href=\"#传输层协议\">#</a> 传输层协议</h2>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/a37dR8tqlNb4DJ9.png\" alt=\"8.png\">&lt;!--p8--&gt;</p>\n<p>​\t\t▫ <strong>TCP</strong> （Transmission Control Protocol，传输控制协议） ：为应用程序提供可靠的面 向连接的通信服务。目前，许多流行的应用程序都使用 TCP。</p>\n<pre><code>• TCP报文头部：\n\t▫ Source Port：源端口，标识哪个应用程序发送。长度为16比特。\n\t▫ Destination Port：目的端口，标识哪个应用程序接收。长度为16比特。\n\t▫ Sequence Number：序号字段。TCP链接中传输的数据流每个字节都编上一个序号。序号字段的值指的是本报文段所发送数据的第一个字节的序号。长度为32比特。\n\t▫ Acknowledgment Number：确认序列号，是期望收到对方下一个报文段数据的第1个字节的序号，即上次已成功接收到的数据段的最后一个字节数据的序号加1。只有Ack标识为1，此字段有效。长度为32比特。\n\t▫ Header Length：头部长度，指出TCP报文头部长度，以32比特（4字节）为计算单位。若无选项内容，则该字段为5，即头部为20字节。\n\t▫ Reserved：保留，必须填0。长度为6比特。\n\t▫ Control bits：控制位，包含FIN、ACK、SYN等标志位代表不同状态下的TCP数据段。\n\t▫ Window：窗口TCP的流量控制，这个值表明当前接收端可接受的最大的数据总数（以字节为单位）。窗口最大为65535字节。长度为16比特。\n\t▫ Checksum：校验字段，是一个强制性的字段，由发端计算和存储，并由收端进行验证。在计算检验和时，要包括TCP头部和TCP数据，同时在TCP报文段的前面加上12字节的伪头部。长度为16比特。\n\t▫ Urgent:紧急指针，只有当URG标志置1时紧急指针才有效。TCP的紧急方式是发送端向另一端发送紧急数据的一种方式。紧急指针指出在本报文段中紧急数据共有多少个字节（紧急数据放在本报文段数据的最前面）。长度为16比特。\n\t▫ Options：选项字段（可选），长度为0-40字节。\n</code></pre>\n<p>​\t\t▫ <strong>UDP</strong>（User Datagram Protocol，用户数据报协议）：提供了无连接通信，且不对传 送数据包进行可靠性的保证。</p>\n<pre><code>• UDP报文头部：\n\t▫ Source Port:源端口，标识哪个应用程序发送。长度为16比特。\n\t▫ Destination Port:目的端口，标识哪个应用程序接收。长度为16比特。\n\t▫ Length:该字段指定UDP报头和数据总共占用的长度。可能的最小长度是8字节，因为UDP报头已经占用了8字节。由于这个字段的存在，UDP报文总长不可能超过65535字节（包括8字节的报头，和65527字节的数据）。\n\t▫ Checksum:覆盖UDP头部和UDP数据的校验和，长度为16比特。\n</code></pre>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/9uovn6aNCOkMxjh.png\" alt=\"9.png\">&lt;!--p9--&gt;</p>\n<hr>\n<p><strong>TCP 和 UDP 端口号：</strong></p>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/QV5SP9luoixKkvt.png\" alt=\"10.png\">&lt;!--p10--&gt;</p>\n<hr>\n<p><strong>TCP 建立三次握手与关闭的四次挥手</strong>：</p>\n<ul>\n<li>建立</li>\n</ul>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/2nBfCbThLY7dA4G.png\" alt=\"11.png\">&lt;!--p11--&gt;</p>\n<pre><code>• TCP连接建立的详细过程如下：\n\t▫ 由TCP连接发起方（图中PC1），发送第一个SYN位置1的TCP报文。初始序列号a为一个随机生成的数字，因为没收到过来自PC2的任何报文，所以确认序列号为0；\n\t▫ 接收方（图中PC2）接收到合法的SYN报文之后，回复一个SYN和ACK置1的TCP报文。初始序列号b为一个随机生成的数字，同时因为此报文是回复给PC1的报文，所以确认序列号为a+1；\n\t▫ PC1接收到PC2发送的SYN和ACK置位的TCP报文后，回复一个ACK置位的报文，此时序列号为a+1,确认序列号为b+1。PC2收到之后，TCP双向连接建立。\n</code></pre>\n<ul>\n<li>关闭</li>\n</ul>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/3C4hoJcWfilRgO1.png\" alt=\"12.png\">&lt;!--p12--&gt;</p>\n<pre><code>• TCP支持全双工模式传输数据，这意味着同一时刻两个方向都可以进行数据的传输。在传输数据之前，TCP通过三次握手建立的实际上是两个方向的连接，因此在传输完毕后，两个方向的连接必须都关闭。如图所示：\n\t▫ 1. 由PC1发出一个FIN字段置”1 ”的不带数据的TCP段；\n\t▫ 2. PC2收到PC1发来的FIN置位的TCP报文后，会回复一个ACK置位的TCP报文。\n\t▫ 3. 若PC2也没有需要发送的数据，则直接发送FIN置位的TCP报文。假设此时PC2还有数据要发送，那么当PC2发送完这些数据之后会发送一个FIN置位的TCP报文去关闭连接。\n\t▫ 4. PC1收到FIN置位的TCP报文，回复ACK报文，TCP双向连接断开。\n</code></pre>\n<hr>\n<p><strong>窗口滑动机制：</strong></p>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/VFGagUEu39eM681.png\" alt=\"13.png\">&lt;!--p13--&gt;</p>\n<pre><code>1. 在TCP三次握手建立连接时，双方都会通过Window字段告诉对方本端最大能够接受的字节数（也就是缓冲区大小）。\n2. 连接建立成功之后，发送方会根据接受方宣告的Window大小发送相应字节数的数据。\n3. 接受方接受到数据之后会放在缓冲区内，等待上层应用来取走缓冲的数据。若数据被上层取走，则相应的缓冲空间将被释放。\n4. 接收方根据自身的缓存空间大小通告当前的可以接受的数据大小( Window )。\n5. 发送方根据接收方当前的Window大小发送相应数量的数据。\n</code></pre>\n<h2 id=\"网络层协议\"><a class=\"anchor\" href=\"#网络层协议\">#</a> 网络层协议</h2>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/AjRd3SrCKxJokha.png\" alt=\"14.png\">&lt;!--p14--&gt;</p>\n<p>​\t\t▫ <strong>IP</strong>（Internet Protocol，互联网协议）：将传输层的数据封装成数据包并完成源站点 到目的站点的转发，提供无连接的、不可靠的服务。</p>\n<blockquote>\n<p>当采用 IP 作为网络层协议时，通信的双方都会被分配到一个 “独一无二” 的 IP 地址来标识自 己。IP 地址可被写成 32 位的二进制整数值形式，但为了方便人们阅读和分析，它通常被写 成点分十进制的形式，即四个字节被分开用十进制表示，中间用点分隔，比如 192.168.1.1。</p>\n</blockquote>\n<pre><code> IP数据包的封装与转发：\n\t▫ 网络层收到上层（如传输层）协议传来的数据时候，会封装一个IP报文头部，并且把源和目的IP地址都添加到该头部中。\n\t▫ 中间经过的网络设备（如路由器），会维护一张指导IP报文转发的“地图”——路由表，通过读取IP数据包的目的地址，查找本地路由表后转发IP数据包。\n\t▫ IP数据包最终到达目的主机，目的主机通过读取目的IP地址确定是否接受并做下一步处理。\n</code></pre>\n<p>​\t\t▫ <strong>IGMP</strong>（Internet Group Management Protocol，因特网组管理协议）：负责 IP 组播 成员管理的协议。它用来在 IP 主机和与其直接相邻的组播路由器之间建立、维护组播 组成员关系。</p>\n<p>​\t\t▫ <strong>ICMP</strong>（Internet Control Message Protocol，网际报文控制协议）：基于 IP 协议在网 络中发送控制消息，提供可能发生在通信环境中的各种问题反馈。通过这些信息，使 管理者可以对所发生的问题作出诊断，然后采取适当的措施解决。</p>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/y1jGFAXHndTq9ih.png\" alt=\"15.png\">&lt;!--p15--&gt;</p>\n<blockquote>\n<p>IP 协议工作时，需要如 OSPF、IS-IS、BGP 等各种路由协议帮助路由器建立路由表，ICMP 帮 忙进行网络的控制和状态诊断。</p>\n</blockquote>\n<h2 id=\"数据链路层协议\"><a class=\"anchor\" href=\"#数据链路层协议\">#</a> 数据链路层协议</h2>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/jubKpa6MtiUdYfN.png\" alt=\"16.png\">&lt;!--p16--&gt;</p>\n<p>​\t\t▫ <strong>PPP</strong>（Point-to-Point Protocol，点对点协议）：一种点对点模式的数据链路层协议， 多用于广域网。</p>\n<p>​\t\t▫ <strong>Ethernet</strong> (以太网协议)：一种多路访问广播型数据链路层协议，是当前应用最为广 泛的局域网技术。</p>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/Pbc1Gt4uHeFsSVa.png\" alt=\"17.png\">&lt;!--p17--&gt;</p>\n<blockquote>\n<p>MAC 地址由 48 比特（6 个字节）长，12 位的 16 进制数字组成。例如：48-A4-72-1C-8F-4F</p>\n</blockquote>\n<p>​\t\t▫ <strong>PPPoE</strong>（Point-to-Point Protocol over Ethernet，以太网承载 PPP 协议）：PPPoE 提 供通过简单桥接访问设备（接入设备）把一个网络的多个主机连接到远程访问集中器 的功能。常见的应用有家庭宽带拨号上网。</p>\n<hr>\n<p><strong>ARP 地址解析协议：</strong></p>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/rR3TveghwmuESD1.png\" alt=\"18.png\">&lt;!--p18--&gt;</p>\n<p>ARP（Address Resolution Protocol，地址解析协议）是根据 IP 地址获取数据链路层地址的 一个 TCP/IP 协议。</p>\n<p>ARP 是 IPv4 中必不可少的一种协议，它的<strong>主要功能</strong>是：</p>\n<ul>\n<li>将 IP 地址解析为 MAC 地址；</li>\n<li>维护 IP 地址与 MAC 地址的映射关系的缓存，即 ARP 表项；</li>\n<li>实现网段内重复 IP 地址的检测。</li>\n</ul>\n<p><strong>工作原理</strong></p>\n<p>Host1 ARP 缓存  --&gt;  ARP 请求  --&gt;  Host2 ARP 缓存  --&gt;  ARP 响应  --&gt;  Host1 ARP 缓存</p>\n<h2 id=\"物理层\"><a class=\"anchor\" href=\"#物理层\">#</a> 物理层</h2>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/QMJEA9BeqSl8pxZ.png\" alt=\"19.png\">&lt;!--p19--&gt;</p>\n<p><strong>常见传输介质：</strong></p>\n<ul>\n<li>\n<p>双绞线：当今以太网最常见的传输介质，按照抗电磁干扰能力还可以分为：</p>\n<p>​\t\t▫ STP - 屏蔽双绞线</p>\n<p>​\t\t▫ UTP - 非屏蔽双绞线</p>\n</li>\n<li>\n<p>光纤传输，按照功能部件可分为：</p>\n<p>​\t\t▫ 光纤：光传输介质，简单的说，就是一根玻璃纤维，用于约束光传输的通道。</p>\n<p>​\t\t▫ 光模块：将电信号与光信号互转的器件，产生光信号。</p>\n</li>\n<li>\n<p>串口电缆在 WAN（Wide Area Network，广域网）中大规模使用，根据 WAN 线路类型不同， 串口电缆在设备上连接的接口类型也不同：异 / 同步串口、ATM 接口、POS 接口、CE1/PRI 接口等。</p>\n</li>\n<li>\n<p>无线信号的传输可以通过电磁波进行，例如：无线路由器将数据通过调制以电磁波发送出 去，移动终端的无线网卡将电磁波解调，得到数据，完成从无线路由器到移动终端的数据 传输。</p>\n</li>\n</ul>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/YV8QgyHL7UlOTpZ.png\" alt=\"20.png\">&lt;!--p20--&gt;</p>\n<h2 id=\"数据通讯过程\"><a class=\"anchor\" href=\"#数据通讯过程\">#</a> 数据通讯过程</h2>\n<ul>\n<li>\n<p>发送方数据封装</p>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/Co1DUyWthvaVQXZ.png\" alt=\"21.png\">&lt;!--p21--&gt;</p>\n<pre><code>假设你正在通过网页浏览器访问华为官网，当你输入完网址，敲下回车后，计算机内部会发生下列事情：\n\t▫ 1. IE浏览器(应用程序)调用HTTP(应用层协议)，完成应用层数据的封装(图中DATA还应包括HTTP头部，此处省略) 。\n\t▫ 2. HTTP依靠传输层的TCP进行数据的可靠性传输，将封装好的数据传递到TCP模块。\n\t▫ 3. TCP模块给应用层传递下来的Data添加上相应的TCP头部信息(源端口、目的端口等)。此时的PDU被称作Segment(段)。\n\t▫ 4. 在IPv4网络中，TCP模块会将封装好的Segment传递给网络层的IPv4模块(若在IPv6环境，会交给IPv6模块进行处理)。\n\t▫ 5. IPv4模块在收到TCP模块传递来的Segment之后，完成IPv4头部的封装，此时的PDU被称为Packet(包)。\n\t▫ 6. 由于使用了Ethernet作为数据链路层协议，故在IPv4模块完成封装之后，会将Packet交由数据链路层的Ethernet模块(例如以太网卡)处理。\n\t▫ 7. Ethernet模块在收到IPv4模块传递来的Packet之后，添加上相应的Ethernet头部信息和FCS帧尾，此时的PDU被称为Frame(帧)。\n\t▫ 8. 在Ethernet模块封装完毕之后，会将数据传递到物理层。\n\t▫ 9. 根据物理介质的不同，物理层负责将数字信号转换成电信号，光信号，电磁波(无线)信号等。\n\t▫ 10. 转换完成的信号在网络中开始传递\n</code></pre>\n</li>\n<li>\n<p>中间网络数据传输</p>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/FR7yBUjamcMoCfh.png\" alt=\"22.png\">&lt;!--p22--&gt;</p>\n</li>\n<li>\n<p>接受方数据解封装</p>\n<p><img data-src=\"https://s2.loli.net/2022/01/31/8xZc1NPpnuXjMtK.png\" alt=\"23.png\">&lt;!--p23--&gt;</p>\n</li>\n</ul>\n",
            "tags": [
                "ICT"
            ]
        },
        {
            "id": "http://git2740908911.gitee.io/fanqie.blog.io/2022/01/23/ICT/Datacom%E7%AC%94%E8%AE%B0/ICT%E7%AC%94%E8%AE%B0-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/",
            "url": "http://git2740908911.gitee.io/fanqie.blog.io/2022/01/23/ICT/Datacom%E7%AC%94%E8%AE%B0/ICT%E7%AC%94%E8%AE%B0-%E6%95%B0%E6%8D%AE%E9%80%9A%E4%BF%A1%E7%BD%91%E7%BB%9C%E5%9F%BA%E7%A1%80/",
            "title": "ICT笔记-数据通信网络基础",
            "date_published": "2022-01-23T11:06:17.894Z",
            "content_html": "<p><span id=\"more\"></span></p>\n<h2 id=\"基本概念\"><a class=\"anchor\" href=\"#基本概念\">#</a> 基本概念</h2>\n<p>常见图标：</p>\n<p><img data-src=\"https://s2.loli.net/2022/01/23/6mlz2ksgrvf87hB.png\" alt=\"1.png\">&lt;!--p1--&gt;</p>\n<p><strong>网络通信基本概念：终端设备之间通过计算机网络进行的通信。</strong></p>\n<p>如图例：&lt;!--p2--&gt;</p>\n<p><img data-src=\"https://s2.loli.net/2022/01/23/apy8eGLsJNgXwRF.png\" alt=\"2.png\"></p>\n<p>数据通信可类比快递传输：</p>\n<pre><code>• 需要快递的物品：\n\t▫ 应用程序生成需要传递的信息 (或数据)。\n• 物品被包装起来形成包裹，并粘贴含有收货人姓名、地址的快递单：\n\t▫ 应用程序将数据打包成原始的“数据载荷”，并添加“头部”和“尾部”形成报文，\n报文中的重要信息是接收者的地址信息，即“目的地址”。\n\t▫ 在一个信息单元的基础上，增加一些新的信息段，使其形成一个新的信息单元，这个\n过程称为“封装”。\n• 包裹被送到集散中心，集散中心对包裹上的目的地址进行分检，去往同一个城市的物品被\n放入同一架飞机，并飞向天空：\n\t▫ 报文通过网线到达“网关”，网关收到报文后，对其“解封装”，读取目的地址，再\n重新封装，并根据目的地址不同，送往不同的“路由器”，通过网关及路由器的传递，\n报文最终离开本地网络，进入Internet的干道进行传输。\n\t▫ 其中，网线所起的作用跟公路一样，它是信息传输的介质。\n• 飞机抵达目的机场后，包裹被取出进行分检，去往同一地区的包裹，被送到了同一集散中\n心：\n\t▫ 报文经过Internet干道的传输，到达目的地址所在的本地网络，本地网络的网关或路\n由器对报文进行解封装和封装，并根据目的地址决定发往相应的下一台路由器，最终\n到达目的计算机所在网络的网关。\n• 集散中心根据包裹上的目的地址进行分检，快递员送包裹上门，收件人拆开包裹，确认物\n品完好无损后收下。整个快递过程完成。\n\t▫ 报文到达目的计算机所在网络的网关，解封装和封装，然后根据目的地址发往相应的\n计算机。计算机收到报文后，对报文进行校验处理，校验无误后，接收下报文，并将其中的数据载荷交由相应的应用程序进行处理。一次完整的网络通信过程就结束了。\n</code></pre>\n<p>常见术语：</p>\n<p>数据载荷、报文、头部、尾部、封装、解封装、网关、路由器、终端设备。</p>\n<p>如图：&lt;!--p3--&gt;</p>\n<p><img data-src=\"https://s2.loli.net/2022/01/23/NpWiu4dsLtqzvaC.png\" alt=\"3.png\"></p>\n<p><strong>数据通信网络 (Datacom)：由路由器、交换机、防火墙、无线控制器、无线接入点，以及个人电脑、网络打印机、服务器等设备构成的通信网络。</strong></p>\n<p><strong>基本功能：实现数据互通</strong></p>\n<h2 id=\"网络设备\"><a class=\"anchor\" href=\"#网络设备\">#</a> 网络设备</h2>\n<ul>\n<li>\n<p>交换机</p>\n<p>距离终端用户最近的设备，用于终端用户接入网络、对数据帧进行交换等。</p>\n<p>（广播域：一传多）</p>\n<p><img data-src=\"https://s2.loli.net/2022/01/23/WHjQizX2EO5ehlD.png\" alt=\"4.png\">&lt;!--p4--&gt;</p>\n</li>\n<li>\n<p>路由器</p>\n<p>网络层设备，可以在因特网中进行数据报文转发。路由器根据所收到的报文的目的地址选择一条合适的路径，将报文传送到下一个路由器或目的地，路径中最后的路由器负责将报文送交目的主机。</p>\n<p><strong>路由器工作在 TCP/IP 模型的网络层</strong></p>\n<p><img data-src=\"https://s2.loli.net/2022/01/23/gOkdv3HZQSpticM.png\" alt=\"5.png\">&lt;!--p5--&gt;</p>\n</li>\n<li>\n<p>防火墙</p>\n<p>网络安全设备，用于控制两个网络之间的安全通信。他通过检测、限制、更爱跨越防火墙的数据流，尽可能地对外部屏蔽网络内部的消息、结构和运维状况，以此来实现对网络安全的保护</p>\n<p><img data-src=\"https://s2.loli.net/2022/01/23/eacuDhgKosHTr6f.png\" alt=\"6.png\">&lt;!--p6--&gt;</p>\n</li>\n<li>\n<p>无线设备</p>\n<p>无线局域网 WLAN 广义上是指以无线电波、激光、红外线等无线信号来代替有线局域网中 的部分或全部传输介质所构成的网络。而常见的 Wi-Fi 是指 IEEE 802.11 标准上的无线局域网 技术。</p>\n<p><strong>在 WLAN 中，常见的设备有胖 AP、瘦 AP 和无线控制器 AC。</strong></p>\n<pre><code>▫ 无线接入点 (AP, Access Point)\n\t▪ 一般支持FAT AP、FIT AP和云管理工作模式，根据网络规划的需求，可以灵活\n地在各种模式下切换。\n\t▪ FAT AP：适用于家庭，独立工作，需单独配置，功能较为单一，成本低。\n\t▪ FIT AP：适用于大中型企业，需要配合AC使用，由AC统一管理和配置，功能丰\n富。\n\t▪ 云管理：适用于中小型企业，需要配合云管理平台使用，由云管理平台统一管\n理和配置，功能丰富，即插即用。\n▫ 无线接入控制器 (AC, Access Controller)\n\t▪ 一般位于整个网络的汇聚层，提供高速、安全、可靠的WLAN业务。\n\t▪ 提供大容量、高性能、高可靠性、易安装、易维护的无线数据控制业务，具有\n组网灵活、绿色节能等优势。\n</code></pre>\n<p><img data-src=\"https://s2.loli.net/2022/01/23/uLOknITgBqY2MQd.png\" alt=\"6.5.png\">&lt;!--p7--&gt;</p>\n</li>\n</ul>\n<h2 id=\"网络类型\"><a class=\"anchor\" href=\"#网络类型\">#</a> 网络类型</h2>\n<p>按照地理覆盖范围来划分，可以分为：局域网、城域网、广域网，城域网介于局域网和广域网之间。</p>\n<p>• <strong>局域网：</strong></p>\n<p>​\t▫ 基本特点：</p>\n<p>​\t\t\t ▪ 覆盖范围一般在几公里之内；</p>\n<p>​\t\t\t ▪ 主要作用是把分布距离较近 (如：有一个家庭内、一座或几座大楼内、一个校园 内，等等) 的若干终端电脑连接起来。</p>\n<pre><code>▫ 使用技术：以太网、Wi-Fi等。\n</code></pre>\n<p>• <strong>城域网：</strong></p>\n<p>​\t ▫ 基本特点：</p>\n<p>​\t\t\t ▪ 城域网是较大型的局域网，需要的成本较高，但可以提供更快的传输速率。它 改进了局域网中的传输介质，扩大了局域网的访问范围，范围可以包含一个大 学校园或城市；</p>\n<p>​\t\t\t ▪ 主要作用是将同一城市内不同地点的主机、数据库以及局域网等连接起来；</p>\n<p>​\t\t\t▪ 与广域网作用相似，但实现方式和性能不同。</p>\n<p>​\t▫ 使用技术：基于大型的局域网，与局域网技术相似，如：以太网 (10Gbps/100Gbps)、 WiMAX (全球互通微波访问)。</p>\n<p>• <strong>广域网：</strong></p>\n<p>​\t▫ 基本特点：</p>\n<p>​\t\t\t ▪ 覆盖范围一般在几公里以上，可大至几十、几百或几千公里；</p>\n<p>​\t\t\t▪ 主要作用是把分布较远 (如：跨越城市、跨越国家， 等等) 的若干局域网或城域 网连接起来；</p>\n<p>​\t\t\t ▪ 会用到电信运营商的通信线路。 ▫ 使用技术：HDLC、PPP 等。</p>\n<h2 id=\"网络拓扑\"><a class=\"anchor\" href=\"#网络拓扑\">#</a> 网络拓扑</h2>\n<p><img data-src=\"https://s2.loli.net/2022/01/23/9kqGcSUQ28N3nrT.png\" alt=\"7.png\">&lt;!--p8--&gt;</p>\n<p>网络拓扑是指用传输介质（例如光纤等）互连各种设备（例如计算机终端，路由器，交换机等）所呈现的结构化布局。</p>\n<p><strong>按照网络的拓扑形态来划分，网络可分为 星型网络、总线型网络、环形网络、树形网络、全网状网络和部分网状网络。</strong></p>\n<p><img data-src=\"https://s2.loli.net/2022/01/23/HZdBEPFosU5mKcO.png\" alt=\"8.png\">&lt;!--p9--&gt;</p>\n<pre><code>• 星型网络：\n\t▫ 所有节点通过一个中心节点连接在一起。\n\t▫ 优点：容易在网络中增加新的节点。通信数据必须经过中心节点中转，易于实现网络监控。\n\t▫ 缺点：中心节点的故障会影响到整个网络的通信。\n• 总线型网络：\n\t▫ 所有节点通过一条总线（如同轴电缆）连接在一起。\n\t▫ 优点：安装简便，节省线缆。某一节点的故障一般不会影响到整个网络的通信。\n\t▫ 缺点：总线故障会影响到整个网络的通信。某一节点发出的信息可以被所有其他节点收到，安全性低。\n• 环型网络：\n\t▫ 所有节点连成一个封闭的环形。\n\t▫ 优点：节省线缆。\n\t▫ 缺点：增加新的节点比较麻烦，必须先中断原来的环，才能插入新节点以形成新环。\n• 树型网络：\n\t▫ 树型结构实际上是一种层次化的星型结构。\n\t▫ 优点：能够快速将多个星型网络连接在一起，易于扩充网络规模。\n\t▫ 缺点：层级越高的节点故障导致的网络问题越严重。\n• 全网状网络：\n\t▫ 所有节点都通过线缆两两互联。\n\t▫ 优点：具有高可靠性和高通信效率。\n\t▫ 缺点：每个节点都需要大量的物理端口，同时还需要大量的互连线缆。成本高，不易扩展。\n• 部分网状网络：\n\t▫ 只是重点节点之间才两两互连。\n\t▫ 优点：成本低于全网状网络。\n\t▫ 缺点：可靠性比全网状网络有所降低。\n</code></pre>\n",
            "tags": [
                "ICT"
            ]
        }
    ]
}